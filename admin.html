<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <!-- Sidebar -->
  <div id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-30">
    <div class="h-full flex flex-col">
      <div class="h-16 flex items-center justify-between px-4 border-b border-gray-200">
        <div class="flex items-center space-x-2">
          <div class="h-8 w-8  rounded-md flex items-center justify-center">
            <span class="text-white font-bold"></span>
          </div>
          <span class="text-xl font-bold text-gray-800">CRMSystem<span>
        </div>
        <button id="closeSidebar" class="md:hidden text-gray-500 hover:text-gray-600">
          ‚úï
        </button>
      </div>

      <nav class="flex-1 overflow-auto py-4 px-3 space-y-1">
        <a href="#" class="flex items-center px-3 py-2 bg-blue-50 text-blue-700 rounded-md translatable">Dashboard</a>
        <a href="./user_management.php" class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md translatable">User Management</a>
        <a href="./admininbox.html" class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md translatable">Inbox</a>
        <a href="./reports_analytics.html" class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md translatable">Reports & Analytics</a>
        <a href="./settings.html" class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md translatable">Settings</a>
      </nav>

      <div class="border-t border-gray-200 p-4">
        <div class="flex items-center">
          <div class="h-10 w-10 rounded-full flex items-center justify-center mr-3">
            <span class="font-medium text-blue-700"></span>
          </div>
         
        </div>
        <div class="mt-4 flex items-center justify-between">
            <a href="logout.php" class="text-red-500 font-semibold">

          <button class="text-red-500 font-semibold translatable">Logout</button>
        </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="md:pl-64">
    <!-- Navbar -->
    <header class="bg-white shadow-sm">
      <div class="flex items-center justify-between h-16 px-4">
        <button id="openSidebar" class="md:hidden text-gray-500">‚ò∞</button>
        <div class="relative max-w-md w-full">
          
        </div>
        <div class="flex items-center">
          <span class="text-gray-500 mr-4">üîî</span>
          <select id="languageSelect" class="px-2 py-1 border rounded text-sm">
            <option value="en">English</option>
            <option value="hi">Hindi</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="te">Telugu</option>
            <option value="ta">Tamil</option>
            <option value="ml">Malayalam</option>
            <option value="ja">Japanese</option>
            <option value="it">Italian</option>
          </select>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="p-6">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8">
        <div>
          <h1 class="text-2xl font-bold text-gray-900 translatable">Admin Dashboard</h1>
          <p class="text-gray-600 translatable">Welcome back, Administrator</p>


        </div>
        <button onclick="openModal()" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 mt-4 md:mt-0">‚ûï Add New User</button>


      </div>
      <!-- Add User Form Modal -->
<!-- Add User Modal -->
<div id="addUserModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40">
    <div class="bg-white p-6 rounded-md shadow-md w-full max-w-md">
      <h2 class="text-lg font-bold mb-4 translatable">Add New User</h2>
      <form id="addUserForm">
        <input type="text" name="name" placeholder="Full Name" required class="w-full mb-3 px-4 py-2 border rounded-md">
        <input type="text" name="role" placeholder="Role (e.g., Sales Manager)" required class="w-full mb-3 px-4 py-2 border rounded-md">
        <input type="email" name="email" placeholder="Email Address" required class="w-full mb-3 px-4 py-2 border rounded-md">
        <div class="flex justify-end gap-2">
          <button type="button" onclick="closeModal()" class="px-4 py-2 bg-gray-300 rounded translatable">Cancel</button>
          <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded translatable">Add</button>
        </div>
      </form>
    </div>
  </div>
  

      <!-- Stats -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="bg-white p-6 rounded-lg border border-gray-100 shadow-sm">
          <p class="text-gray-500 font-medium translatable">Total Users</p>
          <div class="flex justify-between items-end mt-2">
            <p class="text-3xl font-bold">158</p>
            <span class="text-green-600 text-sm">+12%</span>
          </div>
        </div>
        <div class="bg-white p-6 rounded-lg border border-gray-100 shadow-sm">
          <p class="text-gray-500 font-medium translatable">Active Customers</p>
          <div class="flex justify-between items-end mt-2">
            <p class="text-3xl font-bold">2,845</p>
            <span class="text-green-600 text-sm">+18%</span>
          </div>
        </div>
        <div class="bg-white p-6 rounded-lg border border-gray-100 shadow-sm">
          <p class="text-gray-500 font-medium translatable">Pending Tickets</p>
          <div class="flex justify-between items-end mt-2">
            <p class="text-3xl font-bold">37</p>
            <span class="text-red-600 text-sm">-5%</span>
          </div>
        </div>
        <div class="bg-white p-6 rounded-lg border border-gray-100 shadow-sm">
          <p class="text-gray-500 font-medium translatable">Revenue (MTD)</p>
          <div class="flex justify-between items-end mt-2">
            <p class="text-3xl font-bold">$128,590</p>
            <span class="text-green-600 text-sm">+24%</span>
          </div>
        </div>
      </div>

      <!-- Recent Users -->
      <div class="bg-white rounded-lg border border-gray-100 shadow-sm">
        <div class="px-6 py-4 border-b border-gray-100">
          <h2 class="font-semibold text-gray-900 translatable">Recent Users</h2>
        </div>
        <div class="divide-y divide-gray-100">
          <div class="flex items-center p-4">
            <div class="h-10 w-10 bg-blue-100 flex items-center justify-center rounded-full mr-3 font-medium text-blue-700">SJ</div>
            <div class="flex-1">
              <p class="font-medium text-gray-900">Nikhil</p>
              <p class="text-sm text-gray-500 translatable">Sales Manager</p>
            </div>
          </div>
          <div class="flex items-center p-4">
            <div class="h-10 w-10 bg-blue-100 flex items-center justify-center rounded-full mr-3 font-medium text-blue-700">MC</div>
            <div class="flex-1">
              <p class="font-medium text-gray-900">Adrash</p>
              <p class="text-sm text-gray-500 translatable">Support Agent</p>
            </div>
          </div>
          <div class="flex items-center p-4">
            <div class="h-10 w-10 bg-blue-100 flex items-center justify-center rounded-full mr-3 font-medium text-blue-700">ED</div>
            <div class="flex-1">
              <p class="font-medium text-gray-900">Dev</p>
              <p class="text-sm text-gray-500 translatable">Account Executive</p>
            </div>
          </div>
        </div>
        <div class="px-6 py-4 border-t border-gray-100">
          <a href="./contact.php" class="text-blue-600 text-sm font-medium hover:text-blue-800 translatable">View All Users ‚Üí</a>
        </div>
      </div>
    </main>
  </div>

  <script>
    const sidebar = document.getElementById('sidebar');
    const openBtn = document.getElementById('openSidebar');
    const closeBtn = document.getElementById('closeSidebar');
    const toggleDark = document.getElementById('toggleDark');

    openBtn.addEventListener('click', () => sidebar.classList.remove('-translate-x-full'));
    closeBtn.addEventListener('click', () => sidebar.classList.add('-translate-x-full'));

    
  </script>
  <script>
    function openModal() {
      document.getElementById("addUserModal").classList.remove("hidden");
    }
  
    function closeModal() {
      document.getElementById("addUserModal").classList.add("hidden");
    }
  
    document.getElementById("addUserForm").addEventListener("submit", function(e) {
      e.preventDefault();
  
      const formData = new FormData(this);
      fetch("adduser.php", {
        method: "POST",
        body: formData
      })
      .then(res => res.text())
      .then(response => {
        alert("‚úÖ User added successfully!");
        closeModal();
  
        const initials = formData.get("name").split(" ").map(word => word[0]).join("").toUpperCase();
        const newUserHTML = `
          <div class="flex items-center p-4">
            <div class="h-10 w-10 bg-blue-100 flex items-center justify-center rounded-full mr-3 font-medium text-blue-700">${initials}</div>
            <div class="flex-1">
              <p class="font-medium text-gray-900">${formData.get("name")}</p>
              <p class="text-sm text-gray-500">${formData.get("role")}</p>
            </div>
          </div>
        `;
  
        document.querySelector(".divide-y").insertAdjacentHTML("afterbegin", newUserHTML);
        this.reset();
      })
      .catch(err => alert("‚ùå Failed to add user."));
    });
  </script>
   <script>
    const apiKey = 'AIzaSyAOan6AJhCDRKjC6S8rrhgI9qz16n9AyQo'; // your actual key
  
    async function translateText(text, targetLang) {
      try {
        const response = await fetch(`https://translation.googleapis.com/language/translate/v2?key=${apiKey}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            q: text,
            target: targetLang,
            format: 'text'
          })
        });
  
        const data = await response.json();
        return data.data.translations[0].translatedText;
      } catch (err) {
        console.error("Translation error:", err);
        return null;
      }
    }
  
    async function translatePage(lang) {
      const elements = document.querySelectorAll('.translatable');
      for (let el of elements) {
        const originalText = el.getAttribute('data-original') || el.innerText;
        el.setAttribute('data-original', originalText);
        const translatedText = await translateText(originalText, lang);
        if (translatedText) el.innerText = translatedText;
      }
    }
  
    document.addEventListener('DOMContentLoaded', () => {
      const langSelect = document.getElementById('languageSelect');
      const savedLang = localStorage.getItem('selectedLanguage') || 'en';
      if (langSelect) langSelect.value = savedLang;
      translatePage(savedLang);
  
      if (langSelect) {
        langSelect.addEventListener('change', async function () {
          const selected = this.value;
          localStorage.setItem('selectedLanguage', selected);
          translatePage(selected);
        });
      }
    });
  </script>
  
  
</body>
</html>